setwd("~/")
setwd("~/")
source('~/bank.R', encoding = 'UTF-8')
source('~/bank.R', encoding = 'UTF-8')
setwd("~/")
setwd("~/")
setwd("~/")
setwd("~/mc")
source('~/mc/bank.R')
data <- read.csv("bank-full.csv", header = T, sep = ";")
source('~/mc/bank.R')
source('~/mc/bank.R')
setwd("C:\Users\tatiana\Documents\mc")
setwd("C:/Users/tatiana/Documents/mc")
data <- read.csv("bank-full.csv", header = T, sep = ";")
data <- read.csv(".bank-full.csv", header = T, sep = ";")
data <- read.csv("./bank-full.csv", header = T, sep = ";")
setwd("~/mc")
source('~/mc/bank.R')
source('~/mc/bank.R')
data <- read.csv("bank-full.csv", header = T, sep = ";")
data <- read.csv("bank-full.csv", header = T, sep = ";")
setwd("C:/Users/tatiana/Documents/mc")
data <- read.csv("bank-full.csv", header = T, sep = ";")
setwd("C:/Users/tatiana/Documents")
data <- read.csv("bank-full.csv", header = T, sep = ";")
source('~/mc/bank.R')
source('~/mc/bank.R')
data <- read.csv("bank-full.csv", header = T, sep = ";")
source('~/mc/bank.R')
setwd("~/")
data_2012 <- read.csv(file = "data/NIJ2012_MAR01_DEC31.csv", header = T, sep = ";", stringsAsFactors = F)
data_2013 <- read.csv(file = "data/NIJ2013_JAN01_DEC31.csv", header = T, sep = ";", stringsAsFactors = F)
data_2014 <- read.csv(file = "data/NIJ2014_JAN01_DEC31.csv", header = T, sep = ";", stringsAsFactors = F)
data_2015 <- read.csv(file = "data/NIJ2015_JAN01_DEC31.csv", header = T, sep = ";", stringsAsFactors = F)
View(data_2015)
View(data_2014)
View(data_2013)
View(data_2012)
plot(data_2014)
library(devtools)
if(!require(devtools)){
install.packages("devtools")
}
library(devtools)
install_github("ujjwalkarn/xda")
?xda
library(xda)
?xda
??xda
numSummary(iris)
numSummary(iris)
data_2012_2015 <- read.csv(file = "data/data_2012-2015.csv", header = T, sep = ";", stringsAsFactors = F)
numSummary(data_2012_2015)
charSummary(data_2012_2015)
View(data_2012_2015)
bivariate(data_2012_2015,'CATEGORY','occ_date')
file_name <- "bi_category-occ_date.txt"
file_name <- paste(type, file_name)
bivariate(data_2012_2015,'CATEGORY','occ_date')
capture.output(s, file = file_name)
s <- bivariate(data_2012_2015,'CATEGORY','occ_date')
capture.output(s, file = file_name)
Plot(data_2012_2015,'CATEGORY')
Plot(data_2012_2015,'occ_date')
Plot(data_2012_2015,'CATEGORY')
Plot(data_2012_2015,'x_cordinate')
Plot(data_2012_2015,'x_coordinate')
Plot(mtcars,'mpg')
Plot(iris,'Species')
iris
Plot(iris,'Sepal.Length')
?plot
plot(data_2012_2015)
plot(data_2012_2015$CATEGORY)
boxplot(mtcars$mpg)
mtcars <- edit(mtcars)
boxplot(mtcars$mpg)
IQR(mtcars$mpg)
library(Cairo)
library(ggplot2)
library(scales)
library(dplyr)
setwd("C:/Users/tatiana/nij-challenge")
d <- read.csv(file = "data/mp_data.csv", header = T, sep = ";", stringsAsFactors = F)
g <- ggplot(d, aes(as.numeric(strftime(as.POSIXct(d$occ_date, format="%d/%m/%Y")))))
g +  geom_histogram(aes(y=..density.., fill = CATEGORY), binwidth = 10) +
labs(x = "Date", y = "Density", fill = "CATEGORY")
date <- as.numeric(strftime(as.POSIXct(d$occ_date, format="%d/%m/%Y")
date <- as.numeric(strftime(as.POSIXct(d$occ_date, format="%d/%m/%Y")))
dd <- as.numeric(strftime(as.POSIXct(d$occ_date, format="%d/%m/%Y")))
dd <- as.POSIXct(d$occ_date, format="%d/%m/%Y"))
dd <- as.POSIXct(d$occ_date, format="%d/%m/%Y")))
dd <- as.POSIXct(d$occ_date, format="%d/%m/%Y")))
dd <- as.POSIXct(d$occ_date, format="%d/%m/%Y"))
dd <- as.POSIXct(d$occ_date, format="%d/%m/%Y")
data <- d
# convert character to date
data$occ_date <- as.POSIXct(data$occ_date, format="%d/%m/%Y")
# removing na's
data <- na.omit(data)
data <- as.numeric(data$occ_date)
data <- d
# convert character to date
data$occ_date <- as.POSIXct(data$occ_date, format="%d/%m/%Y")
data$occ_date <- as.numeric(data$occ_date)
View(data)
# removing na's
data <- na.omit(data)
g <- ggplot(d, aes(occ_date))
g +  geom_histogram(aes(y=..density.., fill = CATEGORY), binwidth = 10) +
labs(x = "Date", y = "Density", fill = "CATEGORY")
lenght
length(unique(data$occ_date))
g +  geom_histogram(aes(y=..density.., fill = CATEGORY), binwidth = 0.5) +
labs(x = "Date", y = "Density", fill = "CATEGORY")
g +  geom_bar(aes(y=..density.., fill = CATEGORY), binwidth = 0.5) +
labs(x = "Date", y = "Density", fill = "CATEGORY")
g +  geom_bar(aes(y=..density.., fill = CATEGORY)) +
labs(x = "Date", y = "Density", fill = "CATEGORY")
g +  stat_count(width=1, colour="white", geom="bar") +
labs(x = "Date", y = "Density", fill = "CATEGORY")
p <- ggplot(data, aes(occ_date, fill=CATEGORY))
# using geom_bar will automatically make a new "count" column
# available in an internal, transformed data frame. the help
# for geom_bar says as much
p <- p + geom_bar(width=1, colour="white")
# geom_text can then access this computed variable with
# ..count.. (I still thin that's horrible syntax, hadley :-)
p <- p + geom_text(aes(y=..count.., label=..count..),
stat="count", color="white",
hjust=1.0, size=3)
p <- p + theme(legend.position="none")
p <- p + coord_flip()
p
p <- ggplot(data, aes(occ_date, fill=CATEGORY))
p + geom_bar(width=1, colour="white") +
geom_text(aes(y=..density.., label=..density..),
stat="count", color="white",
hjust=1.0, size=3) +
theme(legend.position="none") +
coord_flip()
p <- p + stat_count(width=1, colour="white", geom="bar")
p + stat_count(width=1, colour="white", geom="bar")
p <- p + stat_density(width=1, colour="white", geom="bar")
p
p + stat_density(width=1, colour="white", geom="bar") +
geom_text(aes(y=..density.., label=..density..),
stat="count", color="white",
hjust=1.0, size=3) +
theme(legend.position="none") +
coord_flip()
p + stat_density(width=1, colour="white", geom="bar", aes(y = (..count..)/sum(..count..), fill = as.character(DISTRICT)), stat="count") +
geom_text(aes( label = scales::percent((..count..)/sum(..count..)),
y= (..count..)/sum(..count..) ), stat= "count", vjust = -.5) +
labs(x = "District" ,y = "Percent", fill="District") +
scale_y_continuous(labels=percent) +
theme(legend.position="none") +
coord_flip()
p + stat_density(width=1, colour="white", geom="bar", aes(y = (..count..)/sum(..count..), fill = as.character(DISTRICT)), stat="count") +
geom_text(aes( label = scales::percent((..count..)/sum(..count..)),
y= (..count..)/sum(..count..) ), vjust = -.5) +
labs(x = "District" ,y = "Percent", fill="District") +
scale_y_continuous(labels=percent) +
theme(legend.position="none") +
coord_flip()
p + stat_density(width=1, colour="white", geom="bar", aes(y = (..count..)/sum(..count..), fill = CATEGORY)) +
geom_text(aes( label = scales::percent((..count..)/sum(..count..)),
y= (..count..)/sum(..count..) ), vjust = -.5) +
labs(x = "District" ,y = "Percent", fill="District") +
scale_y_continuous(labels=percent) +
theme(legend.position="none") +
coord_flip()
p <- ggplot(data, aes(occ_date))
# using geom_bar will automatically make a new "count" column
# available in an internal, transformed data frame. the help
# for geom_bar says as much
p + geom_bar(aes(y = (..count..)/sum(..count..), fill = CATEGORY), stat="count") +
geom_text(aes( label = scales::percent((..count..)/sum(..count..)),
y= (..count..)/sum(..count..) ), stat= "count", vjust = -.5) +
labs(x = "Category" ,y = "Percent", fill="Category") +
scale_y_continuous(labels=percent)
p + geom_bar(aes(y = (..count..)/sum(..count..), fill = CATEGORY), stat="count") +
labs(x = "Category" ,y = "Percent", fill="Category") +
scale_y_continuous(labels=percent)
p + geom_bar(aes(y = (..count..)/sum(..count..), fill = CATEGORY), stat="count") +
labs(x = "Category" ,y = "Percent", fill="Category") +
scale_y_continuous(labels=percent) +
theme(legend.position="none") +
coord_flip()
p + geom_bar(aes(y = (..count..)/sum(..count..), fill = CATEGORY), stat="count") +
geom_text(aes( label = scales::percent((..count..)/sum(..count..)),
y= (..count..)/sum(..count..) ), stat= "count", color="white", hjust=1.0, size=3) +
labs(x = "Category" ,y = "Percent", fill="Category") +
scale_y_continuous(labels=percent) +
theme(legend.position="none") +
coord_flip()
p + geom_bar(aes(y = (..count..)/sum(..count..), fill = CATEGORY), stat="count") +
labs(x = "Date" ,y = "Percent", fill="Category") +
scale_y_continuous(labels=percent) +
theme(legend.position="none") +
coord_flip()
p + geom_bar(aes(y = (..count..)/sum(..count..), fill = CATEGORY), stat="count") +
labs(x = "Date" ,y = "Percent", fill="Category") +
scale_y_continuous(labels=percent) +
theme(legend.position="none")
p + geom_bar(aes(y = (..count..)/sum(..count..), fill = CATEGORY), stat="identity") +
labs(x = "Date" ,y = "Percent", fill="Category") +
scale_y_continuous(labels=percent) +
theme(legend.position="none")
p <- ggplot(data, aes(occ_date))
# using geom_bar will automatically make a new "count" column
# available in an internal, transformed data frame. the help
# for geom_bar says as much
p + geom_bar(aes(y = (..count..)/sum(..count..), fill = CATEGORY), stat="identity") +
labs(x = "Date" ,y = "Percent", fill="Category") +
scale_y_continuous(labels=percent) +
theme(legend.position="none")
p + geom_bar(aes(y = ..density.., fill = CATEGORY), stat="density") +
labs(x = "Date" ,y = "Percent", fill="Category") +
scale_y_continuous(labels=percent) +
theme(legend.position="none")
p + geom_bar(aes(y = (..count..)/sum(..count..), fill = CATEGORY), stat="count") +
labs(x = "Date" ,y = "Percent", fill="Category") +
scale_y_continuous(labels=percent) +
theme(legend.position="none")
# using geom_bar will automatically make a new "count" column
# available in an internal, transformed data frame. the help
# for geom_bar says as much
p + geom_bar(aes(y = ..density.., fill = CATEGORY), stat="density") +
labs(x = "Date" ,y = "Percent", fill="Category") +
scale_y_continuous(labels=percent) +
theme(legend.position="none")
library(grid)
p2 <- p + geom_bar(aes(y = ..density.., fill = DISTRICT), stat="density") +
labs(x = "Date" ,y = "Percent", fill="District") +
scale_y_continuous(labels=percent) +
theme(legend.position="none")
p2
p2 <- p + geom_bar(aes(y = ..density.., fill = as.character(DISTRICT)), stat="density") +
labs(x = "Date" ,y = "Percent", fill="District") +
scale_y_continuous(labels=percent) +
theme(legend.position="none")
p2
grid.newpage()
grid.draw(rbind(ggplotGrob(p1), ggplotGrob(p2), size = "last"))
p1 <- p + geom_bar(aes(y = ..density.., fill = CATEGORY), stat="density") +
labs(x = "Date" ,y = "Percent", fill="Category") +
scale_y_continuous(labels=percent) +
theme(legend.position="none")
grid.draw(rbind(ggplotGrob(p1), ggplotGrob(p2), size = "last"))
p <- ggplot(d, aes(occ_date)) +
scale_y_continuous(labels=percent) +
theme(legend.position="none")
p1 <- p + geom_bar(aes(y = ..density.., fill = CATEGORY), stat="density") +
labs(x = "Date" ,y = "Percent", fill="Category")
p2 <- p + geom_bar(aes(y = ..density.., fill = as.character(DISTRICT)), stat="density") +
labs(x = "Date" ,y = "Percent", fill="District")
p3 <- p + geom_bar(aes(y = ..density.., fill = final_case_type), stat="density") +
labs(x = "Date" ,y = "Percent", fill="District")
grid.newpage()
grid.draw(rbind(ggplotGrob(p1), ggplotGrob(p2), ggplotGrob(p3), size = "last"))
p3
